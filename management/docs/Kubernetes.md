minikube start

kubernetes get pods

Documentation

https://blog.logrocket.com/deploy-react-app-kubernetes-using-docker/
Creating sample user
In this guide, we will find out how to create a new user using the Service Account mechanism of Kubernetes, grant this user admin permissions and login to Dashboard using a bearer token tied to this user.

IMPORTANT: Make sure that you know what you are doing before proceeding. Granting admin privileges to Dashboard's Service Account might be a security risk.

For each of the following snippets for ServiceAccount and ClusterRoleBinding, you should copy them to new manifest files like dashboard-adminuser.yaml and use kubectl apply -f dashboard-adminuser.yaml to create them.

Creating a Service Account
We are creating Service Account with the name admin-user in namespace kubernetes-dashboard first.

apiVersion: v1
kind: ServiceAccount
metadata:
  name: admin-user
  namespace: kubernetes-dashboard
Creating a ClusterRoleBinding
In most cases after provisioning the cluster using kops, kubeadm or any other popular tool, the ClusterRole cluster-admin already exists in the cluster. We can use it and create only a ClusterRoleBinding for our ServiceAccount. If it does not exist then you need to create this role first and grant required privileges manually.

apiVersion: rbac.authorization.k8s.io/v1
kind: ClusterRoleBinding
metadata:
  name: admin-user
roleRef:
  apiGroup: rbac.authorization.k8s.io
  kind: ClusterRole
  name: cluster-admin
subjects:
- kind: ServiceAccount
  name: admin-user
  namespace: kubernetes-dashboard
Getting a Bearer Token
Now we need to find the token we can use to log in. Execute the following command:

kubectl -n kubernetes-dashboard get secret $(kubectl -n kubernetes-dashboard get sa/admin-user -o jsonpath="{.secrets[0].name}


eyJhbGciOiJSUzI1NiIsImtpZCI6IlpybXBCYWhXNlVzMFc2TDVIQ2h4aVYtWHlVRlZrVGVkcHBQTVhmbHdFU00ifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi11c2VyLXRva2VuLWdiaGN2Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImFkbWluLXVzZXIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiI0YmQ1MDRmNS1hOTFkLTRkOTMtYWM1Ny1iYjgxYzdhNDgxNmEiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZXJuZXRlcy1kYXNoYm9hcmQ6YWRtaW4tdXNlciJ9.NdtNr9FyfJvA8SE6TZjccoReKmZfyl99-zpWjSlXMB1pRFACEiNo_N75VL-a6URO5TooHDXxDNMIkyKXaKvD4x9XmoAh-y6DlHdOT8srfe8eNPKATY5gsovgYJX5rDM18K7lVHyEyBNTpKT86KvIMMWoqpo_tvEtxOiY80cFAiHPlxejf0fIdqQcElWlwwve4hGpPeo5_EKKQvQKkpQ4TFNmJ7FS7z37zMhGPeBfHSvm2xCN2IkTyawyDoYMB0yBiieWvXywbD7pv6mDRB8f784VQ2hBjM8VDgMa1Vrr74CbE8tbGfYsNwT03M3CS1Zt1x9448sC_fAOKfekrAr_P


eyJhbGciOiJSUzI1NiIsImtpZCI6IlpybXBCYWhXNlVzMFc2TDVIQ2h4aVYtWHlVRlZrVGVkcHBQTVhmbHdFU00ifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi11c2VyLXRva2VuLWZuZnBxIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImFkbWluLXVzZXIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiJlMzkxNjhiMy1iNDhmLTQ4MGUtYjQ1Ni02ZTM2MjFhMTJkMWIiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZXJuZXRlcy1kYXNoYm9hcmQ6YWRtaW4tdXNlciJ9.L5x5ia06o4mjEETw7LtYNzcOekC8xI4DGEZwkKGGLfTtJ2wvUZXtZeqEmrePfvXAQMQIKRsH8Tgv9ZjbdCvU_y-Y2cWF3YC_5kiitrBl2iirkgHrxu4Sz7WZ7VjWx5_Vndqw7M8NL_D4uhOEliVZzi6WbibUsuBH8MQTl_MqpPr_oiMzeEUdPyzovj8a3ayGDONpHnPY2PBUxpZX_DOdXPwmlj2GazCHMR7ae-8ouJ95AmtTQM0hwcH4DEvLI_9yV2uyee_PoSA6cVSaRCHPWKr6ln8BNpqznosVyQtWmISESllX0kskGxShkiV3fMwGiSGx4N-FGzzUrE-GUA

 kubectl proxy --address="localhost" -p 8001  --accept-hosts="^*$"
 
eyJhbGciOiJSUzI1NiIsImtpZCI6IlpybXBCYWhXNlVzMFc2TDVIQ2h4aVYtWHlVRlZrVGVkcHBQTVhmbHdFU00ifQ.eyJpc3MiOiJrdWJlcm5ldGVzL3NlcnZpY2VhY2NvdW50Iiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9uYW1lc3BhY2UiOiJrdWJlcm5ldGVzLWRhc2hib2FyZCIsImt1YmVybmV0ZXMuaW8vc2VydmljZWFjY291bnQvc2VjcmV0Lm5hbWUiOiJhZG1pbi11c2VyLXRva2VuLWZuZnBxIiwia3ViZXJuZXRlcy5pby9zZXJ2aWNlYWNjb3VudC9zZXJ2aWNlLWFjY291bnQubmFtZSI6ImFkbWluLXVzZXIiLCJrdWJlcm5ldGVzLmlvL3NlcnZpY2VhY2NvdW50L3NlcnZpY2UtYWNjb3VudC51aWQiOiJlMzkxNjhiMy1iNDhmLTQ4MGUtYjQ1Ni02ZTM2MjFhMTJkMWIiLCJzdWIiOiJzeXN0ZW06c2VydmljZWFjY291bnQ6a3ViZXJuZXRlcy1kYXNoYm9hcmQ6YWRtaW4tdXNlciJ9.L5x5ia06o4mjEETw7LtYNzcOekC8xI4DGEZwkKGGLfTtJ2wvUZXtZeqEmrePfvXAQMQIKRsH8Tgv9ZjbdCvU_y-Y2cWF3YC_5kiitrBl2iirkgHrxu4Sz7WZ7VjWx5_Vndqw7M8NL_D4uhOEliVZzi6WbibUsuBH8MQTl_MqpPr_oiMzeEUdPyzovj8a3ayGDONpHnPY2PBUxpZX_DOdXPwmlj2GazCHMR7ae-8ouJ95AmtTQM0hwcH4DEvLI_9yV2uyee_PoSA6cVSaRCHPWKr6ln8BNpqznosVyQtWmISESllX0kskGxShkiV3fMwGiSGx4N-FGzzUrE-GUAcTbQ(base) joelwembos-MBP: